<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.demo.mapper.TeamMapper">
    <select id="searchTeamByDiaryId" resultType="com.example.demo.model.TeamModel">
        SELECT t.id, t.team_name
        FROM teams t join team_diary td on t.id=td.team_id
        WHERE td.diary_id = #{diaryId};
    </select>

    <insert id="insertTeam" parameterType="com.example.demo.dto.TeamCreateRequestDTO">
        INSERT INTO teams (id, team_name, creator_id)
        VALUES (#{id}, #{team_name}, #{creator_id});
    </insert>

    <select id="findTeamId" resultType="com.example.demo.model.TeamModel">
        SELECT id
        FROM teams
        WHERE team_name = #{teamName} AND creator_id = #{creatorId};
    </select>
</mapper>